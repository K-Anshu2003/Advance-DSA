class Solution {
    public List<List<Integer>> combinationSum(int[] candidates, int target) {

        List<List<Integer>> list = new ArrayList<>();
        List<Integer> li = new ArrayList<>();
        helper(candidates,0, li, target, list);  
        return list;
    }

    public void helper(int[] candidates, int i, List<Integer> li, int target, List<List<Integer>> list){

        if (target == 0) {
            list.add(new ArrayList<>(li)); // found a valid combination
            return;
        }
        if (i == candidates.length || target < 0) {
            return; // can't proceed
        }
        
        li.add(candidates[i]);
        helper(candidates, i, li, target-candidates[i], list);
        li.remove(li.size()-1);
        helper(candidates, i+1, li, target, list);
    }
}
